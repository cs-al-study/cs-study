## 인터럽트

- 프로세스가 CPU를 선점하여 Running 상태일 때, 입출력 이벤트 등의 예외상황이 발생한 경우 CPU에게 알려 이를 먼저 처리하게 하는것
- Running 상태의 프로세스를 Waiting or Ready 상태로 변경한다


## 동기적 인터럽트와 비동기적 인터럽트

- 동기적 인터럽트 : 프로세스가 실행 중인 명령어로 인해 발생하는 인터럽트 // 예외(exception)
- 비동기적 인터럽트 : 하드웨어 장치가 실행 중인 명령어와 무관하게 생성하는 인터럽트 // 인터럽트


## 인터럽트 처리 과정

1. **인터럽트 요청**
2. **프로그램 실행 중단:** 현재 실행중이던 Micro operation 까지 수행
3. **현재의 프로그램 상태 보존:** PCB(Process Control Block), PC(Program Counter) 등
4. **인터럽트 원인 판별:**
	- 인터럽트를 요청한 장치를 식별
    - Interrupt Vector 테이블을 참조하여 호출할 ISR 주소 값을 얻는다.
5. **ISR(Interrupt Service Routine) 실행**
 	- 실질적인 인터럽트 처리 작업 수행
	- 서비스루틴 수행 중 우선순위가 더 높은 인터럽트가 발생하면 또 재귀적으로 1~5를 수행
6. **상태복구 :** 인터럽트 발생 시 저장해둔 PC(Program counter)를 다시 복구하여 이전 실행 위치로 돌아간다
7. **중단된 프로그램 실행 재개:** PCB의 값을 이용하여 이전에 수행중이던 프로그램을 재개한다


## 인터럽트와 이중 모드
- 일반 사용자로부터 시스템을 보호하기 위해 하드웨어적으로 이중모드를 지원
- 이중모드는 사용자 모드와 커널 모드가 존재
- 일반적인 프로세스는 사용자 모드에서 실행되지만, 하드디스크 입출력, 프로세스 생성  같은 특권 명령어는 커널 모드에서만 실행할 수 있다

- mode bit(user mode=1, kernel mode=0)를 통해 두 모드를 구분




