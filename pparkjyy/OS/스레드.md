# 스레드

## 스레드란?

- 스레드(Thread)란 프로세스 내부에서 독립적으로 실행되는 하나의 작업단위 
- 모든 프로세스에는 최소 한 개 이상의 스레드가 존재하며, 프로세스 내에서 스레드 ID, 레지스터 집합, 스택영역을 독립적으로 할당 받고 나머지 자원들을 공유한다.

## 멀티스레드의 구조

하나의 프로세스에서 여러개의 스레드가 동시에 작업하는것을 의미

![image](https://github.com/cs-al-study/cs-study/assets/92436863/68b182e3-c216-4f60-a471-3ae7ec67c082)

- 프로세스 내의 Code, Data, Heap 영역을 다른 스레드와 공유, register, stack은 따로 할당 받는다.

## 멀티스레드 장단점

- 장점
    - 응답성 : 프로그램의 일부분(스레드)이 중단되거나 긴 작업을 수행하더라도 프로그램의 수행이 계속 되어 사용자에 대한 응답성이 증가
    - 자원 공유 : 같은 주소 강간에서의 공유
    - 경제성 : 메모리와 자원 활용이 효율적이다
    - 효율성 : 동시 실행하기 때문에 효율성이 높다

- 단점
    - 자원을 공유하기 때문에 하나의 스레드 문제 -> 전체 문제
    이로 인한 동기화 -> 병목현상, 교착상태 등등

## 멀티 스레드 멀티 프로세스

### 멀티 프로세스

- 프로그램을 여러 개의 프로세스로 구성하여 각 프로세스가 1개의 작업을 처리하도록 하는 것
- 각 프로세스 간 메모리 구분이 필요하거나 독립된 주소 공간을 가져야 할 경우 사용

장점
    - 독립된 구조(안정성 높다)
    - 하나의 프로세스가 죽어도 상관없다.

단점
    - 멀티 스레드 보다 많은 메모리 공간과 CPU 점유시간
    - 독립된 메모리 -> 문맥교환(오버헤드 발생)